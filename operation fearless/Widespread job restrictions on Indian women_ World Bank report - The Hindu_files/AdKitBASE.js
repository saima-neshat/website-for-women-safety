!function(window){var AdKit=function(adImp){console.log("ad kit base initialized"),this.adImp=adImp,"undefined"==typeof this.adImp&&console.warn("You must provide an Ad Implementation to use this kit"),this.modes={createjs:"createjs",greensock:"greensock",css:"css"},this.mode=null,this.android=!1,this.ios=!1,this.desktop_chrome=!1,this.desktop_other=!1,this.isDevice=!1,this.useragent=navigator.userAgent,this.useragent=this.useragent.toLowerCase(),this.catchAllClick=this._catchAllClick.bind(this),this.ctaClick=this._ctaClick.bind(this),this.replay=this._replay.bind(this),this.manualClose=this._manualClose.bind(this),this.requestExpand=this._requestExpand.bind(this),this.expandStart=this._expandStart.bind(this),this.expandComplete=this._expandComplete.bind(this),this.requestCollapse=this._requestCollapse.bind(this),this.collapseStart=this._collapseStart.bind(this),this.collapseComplete=this._collapseComplete.bind(this),this.createButton=this._createButton.bind(this),this.drawBorder=this._drawBorder.bind(this),this._detectPlatform()};AdKit.prototype._catchAllClick=function(e){if(this._allowClick(e))try{this.adImp.catchAllClick_imp.call(this,e)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._ctaClick=function(e){if(this._allowClick(e))try{this.adImp.ctaClick_imp.call(this,e)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._replay=function(e){if(this._allowClick(e))try{this.adImp.replay_imp.call(this,e)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._manualClose=function(){try{this.adImp.manualClose_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._requestExpand=function(){try{this.adImp.requestExpand_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._expandStart=function(){try{this.adImp.expandStart_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._expandComplete=function(){try{this.adImp.expandComplete_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._requestCollapse=function(){try{this.adImp.requestCollapse_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._collapseStart=function(){try{this.adImp.collapseStart_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._collapseComplete=function(){try{this.adImp.collapseComplete_imp.call(this)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype.boot=function(bootObject){try{this.adImp.boot_imp.call(this,bootObject)}catch(error){console.warn("Missing Ad Kit Implementation")}},AdKit.prototype._createButton=function(clip,clickHandler){if(this.ios!==!0&&this.android!==!0||(clip.removeAllEventListeners("mouseover"),clip.removeAllEventListeners("mouseout"),stage.enableMouseOver(0),console.log("killing Rollovers on mobile")),clip.cursor="pointer",clip.mouseChildren=!1,clip.hit){c=clip;var hit=clip.hit,hitShape=hit.children[0],h={};h.x=hit.x-hit.regX*hit.scaleX,h.y=hit.y-hit.regY*hit.scaleY,h.instructions=hitShape.graphics._activeInstructions,h.cornerA=h.instructions[1],h.cornerB=h.instructions[3],h.width=Math.abs(h.cornerA.x-h.cornerB.x)*hit.scaleX,h.height=Math.abs(h.cornerA.y-h.cornerB.y)*hit.scaleY;var hitArea=new createjs.Shape;hitArea.graphics.beginFill("#000").drawRect(h.x,h.y,h.width,h.height),clip.hitArea=hitArea}},AdKit.prototype._allowClick=function(e){var isRightMB=!1;try{return"which"in e.nativeEvent?isRightMB=3==e.nativeEvent.which:"button"in e.nativeEvent&&(isRightMB=2==e.nativeEvent.button),isRightMB===!0?(console.log("AdKit: RMB Suppress"),!1):!0}catch(error){return!0}return!0},AdKit.prototype._detectPlatform=function(){-1!=this.useragent.indexOf("iphone")||-1!=this.useragent.indexOf("ipad")||-1!=this.useragent.indexOf("ipod")?(this.ios=!0,this.isDevice=!0):-1!=this.useragent.indexOf("android")?(this.android=!0,this.isDevice=!0):-1!=this.useragent.indexOf("Chrome")||-1!=this.useragent.indexOf("chrome")?this.desktop_chrome=!0:this.desktop_other=!0,"undefined"!=typeof window.createjs?this.mode=this.modes.createjs:"undefined"!=typeof window.TweenLite?this.mode=this.modes.greensock:this.mode=this.modes.css,console.log("AdKit: detectMode:",this.mode)},AdKit.prototype._drawBorder=function(){console.log("Draw Border");var metas=document.getElementsByTagName("meta"),borderProps=null;for(i=0;i<metas.length;i++)"border.dimensions"==metas[i].getAttribute("name")&&(borderProps=metas[i].getAttribute("content"));var borderObject=null;if(borderProps){borderProps=borderProps.replace(/\s+/g,"");var splitOne=borderProps.split(",");borderObject={};for(var j=0;j<splitOne.length;j++){var splitTwo=splitOne[j].split("=");borderObject[splitTwo[0]]=splitTwo[1]}if("true"==borderObject.drawBorder){var leftBorder=document.createElement("div");leftBorder.style.width="1px",leftBorder.style.height=borderObject.height+"px",leftBorder.style.background="#"+borderObject.color,leftBorder.style.position="absolute",leftBorder.style.top="0px",leftBorder.style.left="0px",leftBorder.style.pointerEvents="none",document.body.appendChild(leftBorder);var rightBorder=document.createElement("div");rightBorder.style.width="1px",rightBorder.style.height=borderObject.height+"px",rightBorder.style.background="#"+borderObject.color,rightBorder.style.position="absolute",rightBorder.style.top="0px",rightBorder.style.left=borderObject.width-1+"px",rightBorder.style.pointerEvents="none",document.body.appendChild(rightBorder);var bottomBorder=document.createElement("div");bottomBorder.style.width=borderObject.width+"px",bottomBorder.style.height="1px",bottomBorder.style.background="#"+borderObject.color,bottomBorder.style.position="absolute",bottomBorder.style.top=borderObject.height-1+"px",bottomBorder.style.left="0px",bottomBorder.style.pointerEvents="none",document.body.appendChild(bottomBorder);var topBorder=document.createElement("div");topBorder.style.width=borderObject.width+"px",topBorder.style.height="1px",topBorder.style.background="#"+borderObject.color,topBorder.style.position="absolute",topBorder.style.top="0px",topBorder.style.left="0px",topBorder.style.pointerEvents="none",document.body.appendChild(topBorder)}}},window.AdKit=AdKit}(window);